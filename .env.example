# SIEM-SOAR Platform Environment Variables
# Copy this file to .env and update the values

# ===================
# DATABASE CREDENTIALS
# ===================

# PostgreSQL
POSTGRES_USER=siem
POSTGRES_PASSWORD=siem_password
POSTGRES_DB=siem_soar
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# ClickHouse
CLICKHOUSE_USER=siem
CLICKHOUSE_PASSWORD=siem_password
CLICKHOUSE_DB=siem
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000

# Redis
REDIS_PASSWORD=siem_password
REDIS_HOST=redis
REDIS_PORT=6379

# ===================
# MESSAGE QUEUE
# ===================

# Kafka
KAFKA_BROKERS=kafka:9092
KAFKA_CLUSTER_ID=MkU3OEVBNTcwNTJENDM2Qk

# Kafka Topics
KAFKA_TOPIC_RAW_LOGS=raw-logs
KAFKA_TOPIC_PARSED_EVENTS=parsed-events
KAFKA_TOPIC_NORMALIZED_EVENTS=normalized-events
KAFKA_TOPIC_ENRICHED_EVENTS=enriched-events
KAFKA_TOPIC_ALERTS=alerts
KAFKA_TOPIC_DLQ=dlq-events

# ===================
# WORKFLOW ENGINE
# ===================

# Temporal
TEMPORAL_HOST=temporal
TEMPORAL_PORT=7233
TEMPORAL_NAMESPACE=default

# ===================
# APPLICATION SETTINGS
# ===================

# API Gateway
GATEWAY_PORT=8080
GATEWAY_JWT_SECRET=change_this_jwt_secret_in_production
GATEWAY_RATE_LIMIT=1000
GATEWAY_CORS_ORIGINS=http://localhost:3000

# Detection Engine
DETECTION_PORT=8081
DETECTION_SIGMA_RULES_PATH=/etc/siem/rules

# SOAR Engine
SOAR_PORT=8082

# Query Service
QUERY_PORT=8083

# Case Management
CASE_PORT=8084

# Threat Intelligence
TI_PORT=8085
TI_MISP_URL=
TI_MISP_API_KEY=

# Collector
COLLECTOR_SYSLOG_UDP_PORT=9514
COLLECTOR_SYSLOG_TCP_PORT=9515
COLLECTOR_HTTP_PORT=9516

# ML Gateway
ML_GATEWAY_PORT=8000
ML_MODEL_DIR=/app/models

# ===================
# MONITORING
# ===================

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3030
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ===================
# LOGGING
# ===================

LOG_LEVEL=info
LOG_FORMAT=json

# ===================
# SECURITY
# ===================

# JWT Settings
JWT_EXPIRATION=3600
JWT_REFRESH_EXPIRATION=86400

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization

# ===================
# PERFORMANCE
# ===================

# Service Workers
GATEWAY_WORKERS=4
DETECTION_WORKERS=8
PARSER_WORKERS=16

# Batch Sizes
PIPELINE_BATCH_SIZE=1000
PIPELINE_BATCH_TIMEOUT=5s

# Connection Pools
DB_MAX_CONNECTIONS=100
DB_MIN_CONNECTIONS=10

# ===================
# FEATURE FLAGS
# ===================

ENABLE_ANALYTICS=true
ENABLE_ML_TRIAGE=true
ENABLE_AUTO_RESPONSE=false
ENABLE_THREAT_INTEL=true

# ===================
# EXTERNAL INTEGRATIONS
# ===================

# Splunk
SPLUNK_HEC_URL=
SPLUNK_HEC_TOKEN=
SPLUNK_INDEX=

# Elastic
ELASTIC_URL=
ELASTIC_USERNAME=
ELASTIC_PASSWORD=
ELASTIC_INDEX=

# Microsoft Sentinel
SENTINEL_WORKSPACE_ID=
SENTINEL_SHARED_KEY=
SENTINEL_LOG_TYPE=

# Email (SMTP)
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=siem@example.com

# Slack
SLACK_WEBHOOK_URL=
SLACK_BOT_TOKEN=

# Jira
JIRA_URL=
JIRA_USERNAME=
JIRA_API_TOKEN=
JIRA_PROJECT_KEY=

# ===================
# DEVELOPMENT SETTINGS
# ===================

# Set to 'development' or 'production'
ENVIRONMENT=development

# Enable debug mode
DEBUG=false

# Enable hot reload
HOT_RELOAD=false
